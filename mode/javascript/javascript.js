'use strict';(function(u){"object"==typeof exports&&"object"==typeof module?u(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],u):u(CodeMirror)})(function(u){u.defineMode("javascript",function(Oa,z){function t(a,b,d){S=a;Y=d;return b}function G(a,b){var d=a.next();if('"'==d||"'"==d)return b.tokenize=Pa(d),b.tokenize(a,b);if("."==d&&a.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return t("number","number");if("."==d&&a.match(".."))return t("spread",
"meta");if(/[\[\]{}\(\),;:\.]/.test(d))return t(d);if("="==d&&a.eat(">"))return t("=>","operator");if("0"==d&&a.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return t("number","number");if(/\d/.test(d))return a.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),t("number","number");if("/"==d){if(a.eat("*"))return b.tokenize=Z,Z(a,b);if(a.eat("/"))return a.skipToEnd(),t("comment","comment");if(va(a,b,1)){a:for(var f=b=!1;null!=(d=a.next());){if(!b){if("/"==d&&!f)break a;"["==d?f=!0:f&&"]"==
d&&(f=!1)}b=!b&&"\\"==d}a.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return t("regexp","string-2")}a.eat("=");return t("operator","operator",a.current())}if("`"==d)return b.tokenize=aa,aa(a,b);if("#"==d&&"!"==a.peek())return a.skipToEnd(),t("meta","meta");if("#"==d&&a.eatWhile(ba))return t("variable","property");if("<"==d&&a.match("!--")||"-"==d&&a.match("->")&&!/\S/.test(a.string.slice(0,a.start)))return a.skipToEnd(),t("comment","comment");if(wa.test(d))return">"==d&&b.lexical&&">"==b.lexical.type||
(a.eat("=")?"!"!=d&&"="!=d||a.eat("="):/[<>*+\-|&?]/.test(d)&&(a.eat(d),">"==d&&a.eat(d))),"?"==d&&a.eat(".")?t("."):t("operator","operator",a.current());if(ba.test(d)){a.eatWhile(ba);d=a.current();if("."!=b.lastType){if(xa.propertyIsEnumerable(d))return a=xa[d],t(a.type,a.style,d);if("async"==d&&a.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return t("async","keyword",d)}return t("variable","variable",d)}}function Pa(a){return function(b,d){var f=!1,g;if(ca&&"@"==b.peek()&&b.match(Qa))return d.tokenize=
G,t("jsonld-keyword","meta");for(;null!=(g=b.next())&&(g!=a||f);)f=!f&&"\\"==g;f||(d.tokenize=G);return t("string","string")}}function Z(a,b){for(var d=!1,f;f=a.next();){if("/"==f&&d){b.tokenize=G;break}d="*"==f}return t("comment","comment")}function aa(a,b){for(var d=!1,f;null!=(f=a.next());){if(!d&&("`"==f||"$"==f&&a.eat("{"))){b.tokenize=G;break}d=!d&&"\\"==f}return t("quasi","string-2",a.current())}function ma(a,b){b.fatArrowAt&&(b.fatArrowAt=null);var d=a.string.indexOf("=>",a.start);if(!(0>
d)){if(r){var f=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a.string.slice(a.start,d));f&&(d=f.index)}f=0;var g=!1;for(--d;0<=d;--d){var m=a.string.charAt(d),w="([{}])".indexOf(m);if(0<=w&&3>w){if(!f){++d;break}if(0==--f){"("==m&&(g=!0);break}}else if(3<=w&&6>w)++f;else if(ba.test(m))g=!0;else if(/["'\/`]/.test(m))for(;;--d){if(0==d)return;if(a.string.charAt(d-1)==m&&"\\"!=a.string.charAt(d-2)){d--;break}}else if(g&&!f){++d;break}}g&&!f&&(b.fatArrowAt=d)}}function ya(a,b,d,f,g,m){this.indented=
a;this.column=b;this.type=d;this.prev=g;this.info=m;null!=f&&(this.align=f)}function k(){for(var a=arguments.length-1;0<=a;a--)e.cc.push(arguments[a])}function c(){k.apply(null,arguments);return!0}function na(a,b){for(;b;b=b.next)if(b.name==a)return!0;return!1}function L(a){var b=e.state;e.marked="def";if(za){if(b.context)if("var"==b.lexical.info&&b.context&&b.context.block){var d=Aa(a,b.context);if(null!=d){b.context=d;return}}else if(!na(a,b.localVars)){b.localVars=new T(a,b.localVars);return}z.globalVars&&
!na(a,b.globalVars)&&(b.globalVars=new T(a,b.globalVars))}}function Aa(a,b){return b?b.block?(a=Aa(a,b.prev))?a==b.prev?b:new U(a,b.vars,!0):null:na(a,b.vars)?b:new U(b.prev,new T(a,b.vars),!1):null}function da(a){return"public"==a||"private"==a||"protected"==a||"abstract"==a||"readonly"==a}function U(a,b,d){this.prev=a;this.vars=b;this.block=d}function T(a,b){this.name=a;this.next=b}function M(){e.state.context=new U(e.state.context,e.state.localVars,!1);e.state.localVars=Ra}function oa(){e.state.context=
new U(e.state.context,e.state.localVars,!0);e.state.localVars=null}function A(){e.state.localVars=e.state.context.vars;e.state.context=e.state.context.prev}function l(a,b){var d=function(){var f=e.state,g=f.indented;if("stat"==f.lexical.type)g=f.lexical.indented;else for(var m=f.lexical;m&&")"==m.type&&m.align;m=m.prev)g=m.indented;f.lexical=new ya(g,e.stream.column(),a,null,f.lexical,b)};d.lex=!0;return d}function h(){var a=e.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),
a.lexical=a.lexical.prev)}function n(a){function b(d){return d==a?c():";"==a||"}"==d||")"==d||"]"==d?k():c(b)}return b}function v(a,b){return"var"==a?c(l("vardef",b),pa,n(";"),h):"keyword a"==a?c(l("form"),qa,v,h):"keyword b"==a?c(l("form"),v,h):"keyword d"==a?e.stream.match(/^\s*$/,!1)?c():c(l("stat"),V,n(";"),h):"debugger"==a?c(n(";")):"{"==a?c(l("}"),oa,ea,h,A):";"==a?c():"if"==a?("else"==e.state.lexical.info&&e.state.cc[e.state.cc.length-1]==h&&e.state.cc.pop()(),c(l("form"),qa,v,h,Ba)):"function"==
a?c(D):"for"==a?c(l("form"),oa,Ca,v,A,h):"class"==a||r&&"interface"==b?(e.marked="keyword",c(l("form","class"==a?a:b),Da,h)):"variable"==a?r&&"declare"==b?(e.marked="keyword",c(v)):r&&("module"==b||"enum"==b||"type"==b)&&e.stream.match(/^\s*\w/,!1)?(e.marked="keyword","enum"==b?c(Ea):"type"==b?c(Fa,n("operator"),p,n(";")):c(l("form"),B,n("{"),l("}"),ea,h,h)):r&&"namespace"==b?(e.marked="keyword",c(l("form"),q,v,h)):r&&"abstract"==b?(e.marked="keyword",c(v)):c(l("stat"),Sa):"switch"==a?c(l("form"),
qa,n("{"),l("}","switch"),oa,ea,h,h,A):"case"==a?c(q,n(":")):"default"==a?c(n(":")):"catch"==a?c(l("form"),M,Ta,v,h,A):"export"==a?c(l("stat"),Ua,h):"import"==a?c(l("stat"),Va,h):"async"==a?c(v):"@"==b?c(q,v):k(l("stat"),q,n(";"),h)}function Ta(a){if("("==a)return c(H,n(")"))}function q(a,b){return Ga(a,b,!1)}function y(a,b){return Ga(a,b,!0)}function qa(a){return"("!=a?k():c(l(")"),V,n(")"),h)}function Ga(a,b,d){if(e.state.fatArrowAt==e.stream.start){var f=d?Ha:Ia;if("("==a)return c(M,l(")"),x(H,
")"),h,n("=>"),f,A);if("variable"==a)return k(M,B,n("=>"),f,A)}f=d?N:I;return Wa.hasOwnProperty(a)?c(f):"function"==a?c(D,f):"class"==a||r&&"interface"==b?(e.marked="keyword",c(l("form"),Xa,h)):"keyword c"==a||"async"==a?c(d?y:q):"("==a?c(l(")"),V,n(")"),h,f):"operator"==a||"spread"==a?c(d?y:q):"["==a?c(l("]"),Ya,h,f):"{"==a?W(fa,"}",null,f):"quasi"==a?k(ha,f):"new"==a?c(Za(d)):c()}function V(a){return a.match(/[;\}\)\],]/)?k():k(q)}function I(a,b){return","==a?c(V):N(a,b,!1)}function N(a,b,d){var f=
0==d?I:N,g=0==d?q:y;if("=>"==a)return c(M,d?Ha:Ia,A);if("operator"==a)return/\+\+|--/.test(b)||r&&"!"==b?c(f):r&&"<"==b&&e.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?c(l(">"),x(p,">"),h,f):"?"==b?c(q,n(":"),g):c(g);if("quasi"==a)return k(ha,f);if(";"!=a){if("("==a)return W(y,")","call",f);if("."==a)return c($a,f);if("["==a)return c(l("]"),V,n("]"),h,f);if(r&&"as"==b)return e.marked="keyword",c(p,f);if("regexp"==a)return e.state.lastType=e.marked="operator",e.stream.backUp(e.stream.pos-e.stream.start-
1),c(g)}}function ha(a,b){return"quasi"!=a?k():"${"!=b.slice(b.length-2)?c(ha):c(q,ab)}function ab(a){if("}"==a)return e.marked="string-2",e.state.tokenize=aa,c(ha)}function Ia(a){ma(e.stream,e.state);return k("{"==a?v:q)}function Ha(a){ma(e.stream,e.state);return k("{"==a?v:y)}function Za(a){return function(b){return"."==b?c(a?bb:cb):"variable"==b&&r?c(db,a?N:I):k(a?y:q)}}function cb(a,b){if("target"==b)return e.marked="keyword",c(I)}function bb(a,b){if("target"==b)return e.marked="keyword",c(N)}
function Sa(a){return":"==a?c(h,v):k(I,n(";"),h)}function $a(a){if("variable"==a)return e.marked="property",c()}function fa(a,b){if("async"==a)return e.marked="property",c(fa);if("variable"==a||"keyword"==e.style){e.marked="property";if("get"==b||"set"==b)return c(eb);var d;r&&e.state.fatArrowAt==e.stream.start&&(d=e.stream.match(/^\s*:\s*/,!1))&&(e.state.fatArrowAt=e.stream.pos+d[0].length);return c(J)}if("number"==a||"string"==a)return e.marked=ca?"property":e.style+" property",c(J);if("jsonld-keyword"==
a)return c(J);if(r&&da(b))return e.marked="keyword",c(fa);if("["==a)return c(q,O,n("]"),J);if("spread"==a)return c(y,J);if("*"==b)return e.marked="keyword",c(fa);if(":"==a)return k(J)}function eb(a){if("variable"!=a)return k(J);e.marked="property";return c(D)}function J(a){if(":"==a)return c(y);if("("==a)return k(D)}function x(a,b,d){function f(g,m){return(d?-1<d.indexOf(g):","==g)?(g=e.state.lexical,"call"==g.info&&(g.pos=(g.pos||0)+1),c(function(w,ra){return w==b||ra==b?k():k(a)},f)):g==b||m==b?
c():d&&-1<d.indexOf(";")?k(a):c(n(b))}return function(g,m){return g==b||m==b?c():k(a,f)}}function W(a,b,d){for(var f=3;f<arguments.length;f++)e.cc.push(arguments[f]);return c(l(b,d),x(a,b),h)}function ea(a){return"}"==a?c():k(v,ea)}function O(a,b){if(r){if(":"==a)return c(p);if("?"==b)return c(O)}}function fb(a,b){if(r&&(":"==a||"in"==b))return c(p)}function Ja(a){if(r&&":"==a)return e.stream.match(/^\s*\w+\s+is\b/,!1)?c(q,gb,p):c(p)}function gb(a,b){if("is"==b)return e.marked="keyword",c()}function p(a,
b){if("keyof"==b||"typeof"==b||"infer"==b||"readonly"==b)return e.marked="keyword",c("typeof"==b?y:p);if("variable"==a||"void"==b)return e.marked="type",c(E);if("|"==b||"&"==b)return c(p);if("string"==a||"number"==a||"atom"==a)return c(E);if("["==a)return c(l("]"),x(p,"]",","),h,E);if("{"==a)return c(l("}"),sa,h,E);if("("==a)return c(x(ta,")"),hb,E);if("<"==a)return c(x(p,">"),p)}function hb(a){if("=>"==a)return c(p)}function sa(a){return a.match(/[\}\)\]]/)?c():","==a||";"==a?c(sa):k(X,sa)}function X(a,
b){if("variable"==a||"keyword"==e.style)return e.marked="property",c(X);if("?"==b||"number"==a||"string"==a)return c(X);if(":"==a)return c(p);if("["==a)return c(n("variable"),fb,n("]"),X);if("("==a)return k(P,X);if(!a.match(/[;\}\)\],]/))return c()}function ta(a,b){return"variable"==a&&e.stream.match(/^\s*[?:]/,!1)||"?"==b?c(ta):":"==a?c(p):"spread"==a?c(ta):k(p)}function E(a,b){if("<"==b)return c(l(">"),x(p,">"),h,E);if("|"==b||"."==a||"&"==b)return c(p);if("["==a)return c(p,n("]"),E);if("extends"==
b||"implements"==b)return e.marked="keyword",c(p);if("?"==b)return c(p,n(":"),p)}function db(a,b){if("<"==b)return c(l(">"),x(p,">"),h,E)}function ia(){return k(p,ib)}function ib(a,b){if("="==b)return c(p)}function pa(a,b){return"enum"==b?(e.marked="keyword",c(Ea)):k(B,O,F,jb)}function B(a,b){if(r&&da(b))return e.marked="keyword",c(B);if("variable"==a)return L(b),c();if("spread"==a)return c(B);if("["==a)return W(kb,"]");if("{"==a)return W(Ka,"}")}function Ka(a,b){if("variable"==a&&!e.stream.match(/^\s*:/,
!1))return L(b),c(F);"variable"==a&&(e.marked="property");return"spread"==a?c(B):"}"==a?k():"["==a?c(q,n("]"),n(":"),Ka):c(n(":"),B,F)}function kb(){return k(B,F)}function F(a,b){if("="==b)return c(y)}function jb(a){if(","==a)return c(pa)}function Ba(a,b){if("keyword b"==a&&"else"==b)return c(l("form","else"),v,h)}function Ca(a,b){if("await"==b)return c(Ca);if("("==a)return c(l(")"),lb,h)}function lb(a){return"var"==a?c(pa,Q):"variable"==a?c(Q):k(Q)}function Q(a,b){return")"==a?c():";"==a?c(Q):"in"==
b||"of"==b?(e.marked="keyword",c(q,Q)):k(q,Q)}function D(a,b){if("*"==b)return e.marked="keyword",c(D);if("variable"==a)return L(b),c(D);if("("==a)return c(M,l(")"),x(H,")"),h,Ja,v,A);if(r&&"<"==b)return c(l(">"),x(ia,">"),h,D)}function P(a,b){if("*"==b)return e.marked="keyword",c(P);if("variable"==a)return L(b),c(P);if("("==a)return c(M,l(")"),x(H,")"),h,Ja,A);if(r&&"<"==b)return c(l(">"),x(ia,">"),h,P)}function Fa(a,b){if("keyword"==a||"variable"==a)return e.marked="type",c(Fa);if("<"==b)return c(l(">"),
x(ia,">"),h)}function H(a,b){"@"==b&&c(q,H);return"spread"==a?c(H):r&&da(b)?(e.marked="keyword",c(H)):r&&"this"==a?c(O,F):k(B,O,F)}function Xa(a,b){return"variable"==a?Da(a,b):ja(a,b)}function Da(a,b){if("variable"==a)return L(b),c(ja)}function ja(a,b){if("<"==b)return c(l(">"),x(ia,">"),h,ja);if("extends"==b||"implements"==b||r&&","==a)return"implements"==b&&(e.marked="keyword"),c(r?p:q,ja);if("{"==a)return c(l("}"),C,h)}function C(a,b){if("async"==a||"variable"==a&&("static"==b||"get"==b||"set"==
b||r&&da(b))&&e.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return e.marked="keyword",c(C);if("variable"==a||"keyword"==e.style)return e.marked="property",c(ka,C);if("number"==a||"string"==a)return c(ka,C);if("["==a)return c(q,O,n("]"),ka,C);if("*"==b)return e.marked="keyword",c(C);if(r&&"("==a)return k(P,C);if(";"==a||","==a)return c(C);if("}"==a)return c();if("@"==b)return c(q,C)}function ka(a,b){if("?"==b)return c(ka);if(":"==a)return c(p,F);if("="==b)return c(y);a=e.state.lexical.prev;return k(a&&
"interface"==a.info?P:D)}function Ua(a,b){return"*"==b?(e.marked="keyword",c(ua,n(";"))):"default"==b?(e.marked="keyword",c(q,n(";"))):"{"==a?c(x(La,"}"),ua,n(";")):k(v)}function La(a,b){if("as"==b)return e.marked="keyword",c(n("variable"));if("variable"==a)return k(y,La)}function Va(a){return"string"==a?c():"("==a?k(q):"."==a?k(I):k(la,Ma,ua)}function la(a,b){if("{"==a)return W(la,"}");"variable"==a&&L(b);"*"==b&&(e.marked="keyword");return c(mb)}function Ma(a){if(","==a)return c(la,Ma)}function mb(a,
b){if("as"==b)return e.marked="keyword",c(la)}function ua(a,b){if("from"==b)return e.marked="keyword",c(q)}function Ya(a){return"]"==a?c():k(x(y,"]"))}function Ea(){return k(l("form"),B,n("{"),l("}"),x(nb,"}"),h,h)}function nb(){return k(B,F)}function va(a,b,d){return b.tokenize==G&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||"quasi"==b.lastType&&/\{\s*$/.test(a.string.slice(0,a.pos-(d||0)))}var R=Oa.indentUnit,Na=z.statementIndent,ca=z.jsonld,
K=z.json||ca,za=!1!==z.trackScope,r=z.typescript,ba=z.wordCharacters||/[\w$\xa1-\uffff]/,xa=function(){function a(ra){return{type:ra,style:"keyword"}}var b=a("keyword a"),d=a("keyword b"),f=a("keyword c"),g=a("keyword d"),m=a("operator"),w={type:"atom",style:"atom"};return{"if":a("if"),"while":b,"with":b,"else":d,"do":d,"try":d,"finally":d,"return":g,"break":g,"continue":g,"new":a("new"),"delete":f,"void":f,"throw":f,"debugger":a("debugger"),"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),
"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":m,"typeof":m,"instanceof":m,"true":w,"false":w,"null":w,undefined:w,NaN:w,Infinity:w,"this":a("this"),"class":a("class"),"super":a("atom"),yield:f,"export":a("export"),"import":a("import"),"extends":f,await:f}}(),wa=/[+\-*&%=<>!?|~^@]/,Qa=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,S,Y,Wa={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"import":!0,
"jsonld-keyword":!0},e={state:null,column:null,marked:null,cc:null},Ra=new T("this",new T("arguments",null));A.lex=!0;h.lex=!0;return{startState:function(a){a={tokenize:G,lastType:"sof",cc:[],lexical:new ya((a||0)-R,0,"block",!1),localVars:z.localVars,context:z.localVars&&new U(null,null,!1),indented:a||0};z.globalVars&&"object"==typeof z.globalVars&&(a.globalVars=z.globalVars);return a},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),
ma(a,b));if(b.tokenize!=Z&&a.eatSpace())return null;var d=b.tokenize(a,b);if("comment"==S)return d;b.lastType="operator"!=S||"++"!=Y&&"--"!=Y?S:"incdec";a:{var f=S,g=Y,m=b.cc;e.state=b;e.stream=a;e.marked=null;e.cc=m;e.style=d;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((m.length?m.pop():K?q:v)(f,g)){for(;m.length&&m[m.length-1].lex;)m.pop()();if(e.marked){d=e.marked;break a}if(a="variable"==f)b:if(za){for(a=b.localVars;a;a=a.next)if(a.name==g){a=!0;break b}for(b=b.context;b;b=
b.prev)for(a=b.vars;a;a=a.next)if(a.name==g){a=!0;break b}a=void 0}else a=!1;if(a){d="variable-2";break a}break a}}return d},indent:function(a,b){if(a.tokenize==Z||a.tokenize==aa)return u.Pass;if(a.tokenize!=G)return 0;var d=b&&b.charAt(0),f=a.lexical,g;if(!/^\s*else\b/.test(b))for(var m=a.cc.length-1;0<=m;--m){var w=a.cc[m];if(w==h)f=f.prev;else if(w!=Ba&&w!=A)break}for(;!("stat"!=f.type&&"form"!=f.type||"}"!=d&&(!(g=a.cc[a.cc.length-1])||g!=I&&g!=N||/^[,\.=+\-*:?[\(]/.test(b)));)f=f.prev;Na&&")"==
f.type&&"stat"==f.prev.type&&(f=f.prev);g=f.type;m=d==g;return"vardef"==g?f.indented+("operator"==a.lastType||","==a.lastType?f.info.length+1:0):"form"==g&&"{"==d?f.indented:"form"==g?f.indented+R:"stat"==g?(d=f.indented,a="operator"==a.lastType||","==a.lastType||wa.test(b.charAt(0))||/[,.]/.test(b.charAt(0)),d+(a?Na||R:0)):"switch"!=f.info||m||0==z.doubleIndentSwitch?f.align?f.column+(m?0:1):f.indented+(m?0:R):f.indented+(/^(?:case|default)\b/.test(b)?R:2*R)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,
blockCommentStart:K?null:"/*",blockCommentEnd:K?null:"*/",blockCommentContinue:K?null:" * ",lineComment:K?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:K?"json":"javascript",jsonldMode:ca,jsonMode:K,expressionAllowed:va,skipExpression:function(a){var b=a.cc[a.cc.length-1];b!=q&&b!=y||a.cc.pop()}}});u.registerHelper("wordChars","javascript",/[\w$]/);u.defineMIME("text/javascript","javascript");u.defineMIME("text/ecmascript","javascript");u.defineMIME("application/javascript","javascript");
u.defineMIME("application/x-javascript","javascript");u.defineMIME("application/ecmascript","javascript");u.defineMIME("application/json",{name:"javascript",json:!0});u.defineMIME("application/x-json",{name:"javascript",json:!0});u.defineMIME("application/manifest+json",{name:"javascript",json:!0});u.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});u.defineMIME("text/typescript",{name:"javascript",typescript:!0});u.defineMIME("application/typescript",{name:"javascript",typescript:!0})});
