'use strict';(function(r){"object"==typeof exports&&"object"==typeof module?r(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){r.defineMode("javascript",function(za,u){function p(a,c,b){J=a;Q=b;return c}function z(a,c){var b=a.next();if('"'==b||"'"==b)return c.tokenize=Aa(b),c.tokenize(a,c);if("."==b&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return p("number","number");if("."==b&&a.match(".."))return p("spread","meta");
if(/[\[\]{}\(\),;\:\.]/.test(b))return p(b);if("="==b&&a.eat(">"))return p("=>","operator");if("0"==b&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),p("number","number");if("0"==b&&a.eat(/o/i))return a.eatWhile(/[0-7]/i),p("number","number");if("0"==b&&a.eat(/b/i))return a.eatWhile(/[01]/i),p("number","number");if(/\d/.test(b))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),p("number","number");if("/"==b){if(a.eat("*"))return c.tokenize=R,R(a,c);if(a.eat("/"))return a.skipToEnd(),p("comment","comment");
if(ka(a,c,1)){a:for(var g=c=!1;null!=(b=a.next());){if(!c){if("/"==b&&!g)break a;"["==b?g=!0:g&&"]"==b&&(g=!1)}c=!c&&"\\"==b}a.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return p("regexp","string-2")}a.eat("=");return p("operator","operator",a.current())}if("`"==b)return c.tokenize=aa,aa(a,c);if("#"==b)return a.skipToEnd(),p("error","error");if(la.test(b))return">"==b&&c.lexical&&">"==c.lexical.type||(a.eat("=")?"!"!=b&&"="!=b||a.eat("="):/[<>*+\-]/.test(b)&&(a.eat(b),">"==b&&a.eat(b))),p("operator",
"operator",a.current());if(ba.test(b)){a.eatWhile(ba);b=a.current();if("."!=c.lastType){if(ma.propertyIsEnumerable(b))return a=ma[b],p(a.type,a.style,b);if("async"==b&&a.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return p("async","keyword",b)}return p("variable","variable",b)}}function Aa(a){return function(c,b){var g=!1,d;if(S&&"@"==c.peek()&&c.match(Ba))return b.tokenize=z,p("jsonld-keyword","meta");for(;null!=(d=c.next())&&(d!=a||g);)g=!g&&"\\"==d;g||(b.tokenize=z);return p("string","string")}}function R(a,
c){for(var b=!1,g;g=a.next();){if("/"==g&&b){c.tokenize=z;break}b="*"==g}return p("comment","comment")}function aa(a,c){for(var b=!1,g;null!=(g=a.next());){if(!b&&("`"==g||"$"==g&&a.eat("{"))){c.tokenize=z;break}b=!b&&"\\"==g}return p("quasi","string-2",a.current())}function da(a,c){c.fatArrowAt&&(c.fatArrowAt=null);var b=a.string.indexOf("=>",a.start);if(!(0>b)){if(n){var g=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a.string.slice(a.start,b));g&&(b=g.index)}g=0;var d=!1;for(--b;0<=b;--b){var f=
a.string.charAt(b),e="([{}])".indexOf(f);if(0<=e&&3>e){if(!g){++b;break}if(0==--g){"("==f&&(d=!0);break}}else if(3<=e&&6>e)++g;else if(ba.test(f))d=!0;else{if(/["'\/]/.test(f))return;if(d&&!g){++b;break}}}d&&!g&&(c.fatArrowAt=b)}}function na(a,b,d,g,f,e){this.indented=a;this.column=b;this.type=d;this.prev=f;this.info=e;null!=g&&(this.align=g)}function k(){for(var a=arguments.length-1;0<=a;a--)d.cc.push(arguments[a])}function b(){k.apply(null,arguments);return!0}function K(a){function b(b){for(;b;b=
b.next)if(b.name==a)return!0;return!1}var l=d.state;d.marked="def";l.context?b(l.localVars)||(l.localVars={name:a,next:l.localVars}):!b(l.globalVars)&&u.globalVars&&(l.globalVars={name:a,next:l.globalVars})}function T(a){return"public"==a||"private"==a||"protected"==a||"abstract"==a||"readonly"==a}function L(){d.state.context={prev:d.state.context,vars:d.state.localVars};d.state.localVars=Ca}function M(){d.state.localVars=d.state.context.vars;d.state.context=d.state.context.prev}function e(a,b){var c=
function(){var c=d.state,f=c.indented;if("stat"==c.lexical.type)f=c.lexical.indented;else for(var l=c.lexical;l&&")"==l.type&&l.align;l=l.prev)f=l.indented;c.lexical=new na(f,d.stream.column(),a,null,c.lexical,b)};c.lex=!0;return c}function f(){var a=d.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function h(a){function c(d){return d==a?b():";"==a?k():b(c)}return c}function t(a,c){return"var"==a?b(e("vardef",c.length),ea,h(";"),f):"keyword a"==
a?b(e("form"),fa,t,f):"keyword b"==a?b(e("form"),t,f):"keyword d"==a?d.stream.match(/^\s*$/,!1)?b():b(e("stat"),ha,h(";"),f):"debugger"==a?b(h(";")):"{"==a?b(e("}"),N,f):";"==a?b():"if"==a?("else"==d.state.lexical.info&&d.state.cc[d.state.cc.length-1]==f&&d.state.cc.pop()(),b(e("form"),fa,t,f,oa)):"function"==a?b(x):"for"==a?b(e("form"),Da,t,f):"class"==a||n&&"interface"==c?(d.marked="keyword",b(e("form"),pa,f)):"variable"==a?n&&"type"==c?(d.marked="keyword",b(q,h("operator"),q,h(";"))):n&&"declare"==
c?(d.marked="keyword",b(t)):n&&("module"==c||"enum"==c)&&d.stream.match(/^\s*\w/,!1)?(d.marked="keyword",b(e("form"),y,h("{"),e("}"),N,f,f)):n&&"namespace"==c?(d.marked="keyword",b(e("form"),m,N,f)):b(e("stat"),Ea):"switch"==a?b(e("form"),fa,h("{"),e("}","switch"),N,f,f):"case"==a?b(m,h(":")):"default"==a?b(h(":")):"catch"==a?b(e("form"),L,h("("),F,h(")"),t,f,M):"export"==a?b(e("stat"),Fa,f):"import"==a?b(e("stat"),Ga,f):"async"==a?b(t):"@"==c?b(m,t):k(e("stat"),m,h(";"),f)}function m(a,b){return qa(a,
b,!1)}function v(a,b){return qa(a,b,!0)}function fa(a){return"("!=a?k():b(e(")"),m,h(")"),f)}function qa(a,c,l){if(d.state.fatArrowAt==d.stream.start){var g=l?ra:sa;if("("==a)return b(L,e(")"),w(F,")"),f,h("=>"),g,M);if("variable"==a)return k(L,y,h("=>"),g,M)}g=l?G:A;return Ha.hasOwnProperty(a)?b(g):"function"==a?b(x,g):"class"==a||n&&"interface"==c?(d.marked="keyword",b(e("form"),Ia,f)):"keyword c"==a||"async"==a?b(l?v:m):"("==a?b(e(")"),ha,h(")"),f,g):"operator"==a||"spread"==a?b(l?v:m):"["==a?
b(e("]"),Ja,f,g):"{"==a?O(U,"}",null,g):"quasi"==a?k(V,g):"new"==a?b(Ka(l)):b()}function ha(a){return a.match(/[;\}\)\],]/)?k():k(m)}function A(a,c){return","==a?b(m):G(a,c,!1)}function G(a,c,l){var g=0==l?A:G,ca=0==l?m:v;if("=>"==a)return b(L,l?ra:sa,M);if("operator"==a)return/\+\+|--/.test(c)||n&&"!"==c?b(g):n&&"<"==c&&d.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?b(e(">"),w(q,">"),f,g):"?"==c?b(m,h(":"),ca):b(ca);if("quasi"==a)return k(V,g);if(";"!=a){if("("==a)return O(v,")","call",g);if("."==a)return b(La,
g);if("["==a)return b(e("]"),ha,h("]"),f,g);if(n&&"as"==c)return d.marked="keyword",b(q,g);if("regexp"==a)return d.state.lastType=d.marked="operator",d.stream.backUp(d.stream.pos-d.stream.start-1),b(ca)}}function V(a,c){return"quasi"!=a?k():"${"!=c.slice(c.length-2)?b(V):b(m,Ma)}function Ma(a){if("}"==a)return d.marked="string-2",d.state.tokenize=aa,b(V)}function sa(a){da(d.stream,d.state);return k("{"==a?t:m)}function ra(a){da(d.stream,d.state);return k("{"==a?t:v)}function Ka(a){return function(c){return"."==
c?b(a?Na:Oa):"variable"==c&&n?b(Pa,a?G:A):k(a?v:m)}}function Oa(a,c){if("target"==c)return d.marked="keyword",b(A)}function Na(a,c){if("target"==c)return d.marked="keyword",b(G)}function Ea(a){return":"==a?b(f,t):k(A,h(";"),f)}function La(a){if("variable"==a)return d.marked="property",b()}function U(a,c){if("async"==a)return d.marked="property",b(U);if("variable"==a||"keyword"==d.style){d.marked="property";if("get"==c||"set"==c)return b(Qa);var f;n&&d.state.fatArrowAt==d.stream.start&&(f=d.stream.match(/^\s*:\s*/,
!1))&&(d.state.fatArrowAt=d.stream.pos+f[0].length);return b(B)}if("number"==a||"string"==a)return d.marked=S?"property":d.style+" property",b(B);if("jsonld-keyword"==a)return b(B);if(n&&T(c))return d.marked="keyword",b(U);if("["==a)return b(m,H,h("]"),B);if("spread"==a)return b(v,B);if("*"==c)return d.marked="keyword",b(U);if(":"==a)return k(B)}function Qa(a){if("variable"!=a)return k(B);d.marked="property";return b(x)}function B(a){if(":"==a)return b(v);if("("==a)return k(x)}function w(a,c,f){function g(l,
e){return(f?-1<f.indexOf(l):","==l)?(l=d.state.lexical,"call"==l.info&&(l.pos=(l.pos||0)+1),b(function(b,d){return b==c||d==c?k():k(a)},g)):l==c||e==c?b():b(h(c))}return function(d,f){return d==c||f==c?b():k(a,g)}}function O(a,c,l){for(var g=3;g<arguments.length;g++)d.cc.push(arguments[g]);return b(e(c,l),w(a,c),f)}function N(a){return"}"==a?b():k(t,N)}function H(a,c){if(n){if(":"==a)return b(q);if("?"==c)return b(H)}}function Ra(a){if(n&&":"==a)return d.stream.match(/^\s*\w+\s+is\b/,!1)?b(m,Sa,q):
b(q)}function Sa(a,c){if("is"==c)return d.marked="keyword",b()}function q(a,c){if("variable"==a||"void"==c){if("keyof"==c)return d.marked="keyword",b(q);d.marked="type";return b(C)}if("string"==a||"number"==a||"atom"==a)return b(C);if("["==a)return b(e("]"),w(q,"]",","),f,C);if("{"==a)return b(e("}"),w(W,"}",",;"),f,C);if("("==a)return b(w(ta,")"),Ta)}function Ta(a){if("=>"==a)return b(q)}function W(a,c){if("variable"==a||"keyword"==d.style)return d.marked="property",b(W);if("?"==c)return b(W);if(":"==
a)return b(q);if("["==a)return b(m,H,h("]"),W)}function ta(a){if("variable"==a)return b(ta);if(":"==a)return b(q)}function C(a,c){if("<"==c)return b(e(">"),w(q,">"),f,C);if("|"==c||"."==a)return b(q);if("["==a)return b(h("]"),C);if("extends"==c||"implements"==c)return d.marked="keyword",b(q)}function Pa(a,c){if("<"==c)return b(e(">"),w(q,">"),f,C)}function ua(){return k(q,Ua)}function Ua(a,c){if("="==c)return b(q)}function ea(){return k(y,H,P,Va)}function y(a,c){if(n&&T(c))return d.marked="keyword",
b(y);if("variable"==a)return K(c),b();if("spread"==a)return b(y);if("["==a)return O(y,"]");if("{"==a)return O(Wa,"}")}function Wa(a,c){if("variable"==a&&!d.stream.match(/^\s*:/,!1))return K(c),b(P);"variable"==a&&(d.marked="property");return"spread"==a?b(y):"}"==a?k():b(h(":"),y,P)}function P(a,c){if("="==c)return b(v)}function Va(a){if(","==a)return b(ea)}function oa(a,c){if("keyword b"==a&&"else"==c)return b(e("form","else"),t,f)}function Da(a){if("("==a)return b(e(")"),Xa,h(")"),f)}function Xa(a){return"var"==
a?b(ea,h(";"),X):";"==a?b(X):"variable"==a?b(Ya):k(m,h(";"),X)}function Ya(a,c){return"in"==c||"of"==c?(d.marked="keyword",b(m)):b(A,X)}function X(a,c){return";"==a?b(va):"in"==c||"of"==c?(d.marked="keyword",b(m)):k(m,h(";"),va)}function va(a){")"!=a&&b(m)}function x(a,c){if("*"==c)return d.marked="keyword",b(x);if("variable"==a)return K(c),b(x);if("("==a)return b(L,e(")"),w(F,")"),f,Ra,t,M);if(n&&"<"==c)return b(e(">"),w(ua,">"),f,x)}function F(a,c){"@"==c&&b(m,F);return"spread"==a?b(F):n&&T(c)?
(d.marked="keyword",b(F)):k(y,H,P)}function Ia(a,b){return"variable"==a?pa(a,b):Y(a,b)}function pa(a,c){if("variable"==a)return K(c),b(Y)}function Y(a,c){if("<"==c)return b(e(">"),w(ua,">"),f,Y);if("extends"==c||"implements"==c||n&&","==a)return b(n?q:m,Y);if("{"==a)return b(e("}"),D,f)}function D(a,c){if("async"==a||"variable"==a&&("static"==c||"get"==c||"set"==c||n&&T(c))&&d.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return d.marked="keyword",b(D);if("variable"==a||"keyword"==d.style)return d.marked=
"property",b(n?ia:x,D);if("["==a)return b(m,H,h("]"),n?ia:x,D);if("*"==c)return d.marked="keyword",b(D);if(";"==a)return b(D);if("}"==a)return b();if("@"==c)return b(m,D)}function ia(a,c){return"?"==c?b(ia):":"==a?b(q,P):"="==c?b(v):k(x)}function Fa(a,c){return"*"==c?(d.marked="keyword",b(ja,h(";"))):"default"==c?(d.marked="keyword",b(m,h(";"))):"{"==a?b(w(wa,"}"),ja,h(";")):k(t)}function wa(a,c){if("as"==c)return d.marked="keyword",b(h("variable"));if("variable"==a)return k(v,wa)}function Ga(a){return"string"==
a?b():k(Z,xa,ja)}function Z(a,c){if("{"==a)return O(Z,"}");"variable"==a&&K(c);"*"==c&&(d.marked="keyword");return b(Za)}function xa(a){if(","==a)return b(Z,xa)}function Za(a,c){if("as"==c)return d.marked="keyword",b(Z)}function ja(a,c){if("from"==c)return d.marked="keyword",b(m)}function Ja(a){return"]"==a?b():k(w(v,"]"))}function ka(a,b,d){return b.tokenize==z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||"quasi"==b.lastType&&/\{\s*$/.test(a.string.slice(0,
a.pos-(d||0)))}var I=za.indentUnit,ya=u.statementIndent,S=u.jsonld,E=u.json||S,n=u.typescript,ba=u.wordCharacters||/[\w$\xa1-\uffff]/,ma=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),d=a("keyword b"),g=a("keyword c"),f=a("keyword d"),e=a("operator"),h={type:"atom",style:"atom"};return{"if":a("if"),"while":b,"with":b,"else":d,"do":d,"try":d,"finally":d,"return":f,"break":f,"continue":f,"new":a("new"),"delete":g,"void":g,"throw":g,"debugger":a("debugger"),"var":a("var"),
"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":h,"false":h,"null":h,undefined:h,NaN:h,Infinity:h,"this":a("this"),"class":a("class"),"super":a("atom"),yield:g,"export":a("export"),"import":a("import"),"extends":g,await:g}}(),la=/[+\-*&%=<>!?|~^@]/,Ba=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,J,Q,Ha={atom:!0,number:!0,
variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},d={state:null,column:null,marked:null,cc:null},Ca={name:"this",next:{name:"arguments"}};f.lex=!0;return{startState:function(a){a={tokenize:z,lastType:"sof",cc:[],lexical:new na((a||0)-I,0,"block",!1),localVars:u.localVars,context:u.localVars&&{vars:u.localVars},indented:a||0};u.globalVars&&"object"==typeof u.globalVars&&(a.globalVars=u.globalVars);return a},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=
!1),b.indented=a.indentation(),da(a,b));if(b.tokenize!=R&&a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==J)return c;b.lastType="operator"!=J||"++"!=Q&&"--"!=Q?J:"incdec";a:{var g=J,f=Q,e=b.cc;d.state=b;d.stream=a;d.marked=null;d.cc=e;d.style=c;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((e.length?e.pop():E?m:t)(g,f)){for(;e.length&&e[e.length-1].lex;)e.pop()();if(d.marked){c=d.marked;break a}if(a="variable"==g)b:{for(a=b.localVars;a;a=a.next)if(a.name==f){a=!0;
break b}for(b=b.context;b;b=b.prev)for(a=b.vars;a;a=a.next)if(a.name==f){a=!0;break b}a=void 0}if(a){c="variable-2";break a}break a}}return c},indent:function(a,b){if(a.tokenize==R)return r.Pass;if(a.tokenize!=z)return 0;var c=b&&b.charAt(0),d=a.lexical,e;if(!/^\s*else\b/.test(b))for(var h=a.cc.length-1;0<=h;--h){var k=a.cc[h];if(k==f)d=d.prev;else if(k!=oa)break}for(;!("stat"!=d.type&&"form"!=d.type||"}"!=c&&(!(e=a.cc[a.cc.length-1])||e!=A&&e!=G||/^[,\.=+\-*:?[\(]/.test(b)));)d=d.prev;ya&&")"==d.type&&
"stat"==d.prev.type&&(d=d.prev);e=d.type;h=c==e;return"vardef"==e?d.indented+("operator"==a.lastType||","==a.lastType?d.info+1:0):"form"==e&&"{"==c?d.indented:"form"==e?d.indented+I:"stat"==e?(c=d.indented,a="operator"==a.lastType||","==a.lastType||la.test(b.charAt(0))||/[,.]/.test(b.charAt(0)),c+(a?ya||I:0)):"switch"!=d.info||h||0==u.doubleIndentSwitch?d.align?d.column+(h?0:1):d.indented+(h?0:I):d.indented+(/^(?:case|default)\b/.test(b)?I:2*I)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:E?
null:"/*",blockCommentEnd:E?null:"*/",blockCommentContinue:E?null:" * ",lineComment:E?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:E?"json":"javascript",jsonldMode:S,jsonMode:E,expressionAllowed:ka,skipExpression:function(a){var b=a.cc[a.cc.length-1];b!=m&&b!=v||a.cc.pop()}}});r.registerHelper("wordChars","javascript",/[\w$]/);r.defineMIME("text/javascript","javascript");r.defineMIME("text/ecmascript","javascript");r.defineMIME("application/javascript","javascript");r.defineMIME("application/x-javascript",
"javascript");r.defineMIME("application/ecmascript","javascript");r.defineMIME("application/json",{name:"javascript",json:!0});r.defineMIME("application/x-json",{name:"javascript",json:!0});r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});r.defineMIME("text/typescript",{name:"javascript",typescript:!0});r.defineMIME("application/typescript",{name:"javascript",typescript:!0})});
