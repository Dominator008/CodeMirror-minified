'use strict';(function(f){"object"==typeof exports&&"object"==typeof module?f(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var k=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,x=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,y=/[*+-]\s/;f.commands.newlineAndIndentContinueMarkdownList=function(d){if(d.getOption("disableInput"))return f.Pass;for(var p=d.listSelections(),q=[],g=0;g<p.length;g++){var b=
p[g].head,a=d.getStateAfter(b.line),h=!1!==a.list,e=0!==a.quote,c=d.getLine(b.line);a=k.exec(c);var l=/^\s*$/.test(c.slice(0,b.ch));if(!p[g].empty()||!h&&!e||!a||l){d.execCommand("newlineAndIndent");return}if(x.test(c))/>\s*$/.test(c)||d.replaceRange("",{line:b.line,ch:0},{line:b.line,ch:b.ch+1}),q[g]="\n";else if(h=a[1],e=a[5],a=(c=!(y.test(a[2])||0<=a[2].indexOf(">")))?parseInt(a[3],10)+1+a[4]:a[2].replace("x"," "),q[g]="\n"+h+a+e,c)a:{a=d;h=b.line;c=e=0;l=k.exec(a.getLine(h));var r=l[1];do{e+=
1;var t=h+e,u=a.getLine(t);if(b=k.exec(u)){var m=b[1],v=parseInt(l[3],10)+e-c,n=parseInt(b[3],10),w=n;if(r===m)v===n&&(w=n+1),v>n&&(w=v+1),a.replaceRange(u.replace(k,m+w+b[4]+b[5]),{line:t,ch:0},{line:t,ch:u.length});else{if(r.length>m.length)break a;if(r.length<m.length&&1===e)break a;c+=1}}}while(b)}}d.replaceSelections(q)}});
