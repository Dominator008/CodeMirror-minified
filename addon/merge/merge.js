'use strict';var $jscomp={scope:{},findInternal:function(l,q,n){l instanceof String&&(l=String(l));for(var w=l.length,x=0;x<w;x++){var z=l[x];if(q.call(n,z,x,l))return{i:x,v:z}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(l,q,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");l!=Array.prototype&&l!=Object.prototype&&(l[q]=n.value)};
$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(l,q,n,w){if(q){n=$jscomp.global;l=l.split(".");for(w=0;w<l.length-1;w++){var x=l[w];x in n||(n[x]={});n=n[x]}l=l[l.length-1];w=n[l];q=q(w);q!=w&&null!=q&&$jscomp.defineProperty(n,l,{configurable:!0,writable:!0,value:q})}};
$jscomp.polyfill("Array.prototype.find",function(l){return l?l:function(l,n){return $jscomp.findInternal(this,l,n).v}},"es6-impl","es3");
(function(l){"object"==typeof exports&&"object"==typeof module?l(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","diff_match_patch"],l):l(CodeMirror)})(function(l){function q(a,b){this.mv=a;this.type=b;this.classes="left"==b?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",
start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}function n(a){a.diffOutOfDate&&(a.diff=R(a.orig.getValue(),a.edit.getValue()),a.chunks=S(a.diff),a.diffOutOfDate=!1,l.signal(a.edit,"updateDiff",a.diff))}function w(a){function b(b){E=!0;m=!1;"full"==b&&(a.svg&&F(a.svg),a.copyButtons&&F(a.copyButtons),J(a.edit,h.marked,a.classes),J(a.orig,g.marked,a.classes),h.from=h.to=
g.from=g.to=0);n(a);a.showDifferences&&(T(a.edit,a.diff,h,DIFF_INSERT,a.classes),T(a.orig,a.diff,g,DIFF_DELETE,a.classes));"align"==a.mv.options.connect&&K(a);C(a);null!=a.needsScrollSync&&z(a,a.needsScrollSync);E=!1}function c(b){E||(a.dealigned=!0,d(b))}function d(a){E||m||(clearTimeout(k),!0===a&&(m=!0),k=setTimeout(b,!0===a?20:250))}function e(b,d){a.diffOutOfDate||(a.diffOutOfDate=!0,h.from=h.to=g.from=g.to=0);c(d.text.length-1!=d.to.line-d.from.line)}function f(){a.diffOutOfDate=!0;b("full")}
var h={from:0,to:0,marked:[]},g={from:0,to:0,marked:[]},k,m=!1;a.edit.on("change",e);a.orig.on("change",e);a.edit.on("swapDoc",f);a.orig.on("swapDoc",f);"align"==a.mv.options.connect&&(l.on(a.edit.state.trackAlignable,"realign",c),l.on(a.orig.state.trackAlignable,"realign",c));a.edit.on("viewportChange",function(){d(!1)});a.orig.on("viewportChange",function(){d(!1)});b();return b}function x(a){a.edit.on("scroll",function(){z(a,!0)&&C(a)});a.orig.on("scroll",function(){z(a,!1)&&C(a)})}function z(a,
b){var c,d;if(a.diffOutOfDate)return a.lockScroll&&null==a.needsScrollSync&&(a.needsScrollSync=b),!1;a.needsScrollSync=null;if(!a.lockScroll)return!0;var e,f,h=+new Date;b?(e=a.edit,f=a.orig):(e=a.orig,f=a.edit);if(e.state.scrollSetBy==a&&(e.state.scrollSetAt||0)+250>h)return!1;var g=e.getScrollInfo();if("align"==a.mv.options.connect)m=g.top;else{var k=.5*g.clientHeight,m=g.top+k;c=e.lineAtHeight(m,"local");for(var l=a.chunks,L,n,r,t=0;t<l.length;t++){var p=l[t],u=b?p.editFrom:p.origFrom,A=b?p.editTo:
p.origTo;null==n&&(u>c?(n=p.editFrom,r=p.origFrom):A>c&&(n=p.editTo,r=p.origTo));A<=c?(L=p.editTo,d=p.origTo):u<=c&&(L=p.editFrom,d=p.origFrom)}c={before:L,after:n};d={before:d,after:r};e=U(e,b?c:d);b=U(f,b?d:c);var m=b.top-k+(m-e.top)/(e.bot-e.top)*(b.bot-b.top),D;m>g.top&&1>(D=g.top/k)?m=m*D+g.top*(1-D):(b=g.height-g.clientHeight-g.top)<k&&(e=f.getScrollInfo(),e.height-e.clientHeight-m>b&&1>(D=b/k)&&(m=m*D+(e.height-e.clientHeight-b)*(1-D)))}f.scrollTo(g.left,m);f.state.scrollSetAt=h;f.state.scrollSetBy=
a;return!0}function U(a,b){var c=b.after;null==c&&(c=a.lastLine()+1);return{top:a.heightAtLine(b.before||0,"local"),bot:a.heightAtLine(c,"local")}}function V(a,b,c){(a.lockScroll=b)&&0!=c&&z(a,DIFF_INSERT)&&C(a);a.lockButton.innerHTML=b?"\u21db\u21da":"\u21db&nbsp;&nbsp;\u21da"}function J(a,b,c){for(var d=0;d<b.length;++d){var e=b[d];if(e instanceof l.TextMarker)e.clear();else if(e.parent)for(var f=a,h=c,g=h.classLocation,k=0;k<g.length;k++)f.removeLineClass(e,g[k],h.chunk),f.removeLineClass(e,g[k],
h.start),f.removeLineClass(e,g[k],h.end)}b.length=0}function T(a,b,c,d,e){var f=a.getViewport();a.operation(function(){c.from==c.to||20<f.from-c.to||20<c.from-f.to?(J(a,c.marked,e),M(a,b,d,c.marked,f.from,f.to,e),c.from=f.from,c.to=f.to):(f.from<c.from&&(M(a,b,d,c.marked,f.from,c.from,e),c.from=f.from),f.to>c.to&&(M(a,b,d,c.marked,c.to,f.to,e),c.to=f.to))})}function N(a,b,c,d,e,f){var h=c.classLocation;b=a.getLineHandle(b);for(var g=0;g<h.length;g++)d&&a.addLineClass(b,h[g],c.chunk),e&&a.addLineClass(b,
h[g],c.start),f&&a.addLineClass(b,h[g],c.end);return b}function M(a,b,c,d,e,f,h){function g(b,c){for(var g=Math.max(e,b),k=Math.min(f,c),m=g;m<k;++m)d.push(N(a,m,h,!0,m==b,m==c-1));b==c&&g==c&&k==c&&(g?d.push(N(a,g-1,h,!1,!1,!0)):d.push(N(a,g,h,!1,!0,!1)))}for(var k=v(0,0),m=v(e,0),l=a.clipPos(v(f-1)),n=c==DIFF_DELETE?h.del:h.insert,q=0,r=!1,t=0;t<b.length;++t){var p=b[t],u=p[0],p=p[1];u==DIFF_EQUAL?(u=k.line+(W(b,t)?0:1),G(k,p),p=k.line+(X(b,t)?1:0),p>u&&(r&&(g(q,u),r=!1),q=p)):(r=!0,u==c&&(u=G(k,
p,!0),k=0<(m.line-k.line||m.ch-k.ch)?m:k,p=0>(l.line-u.line||l.ch-u.ch)?l:u,k.line==p.line&&k.ch==p.ch||d.push(a.markText(k,p,{className:n})),k=u))}r&&g(q,k.line+1)}function C(a){if(a.showDifferences){if(a.svg){F(a.svg);var b=a.gap.offsetWidth;Y(a.svg,"width",b,"height",a.gap.offsetHeight)}a.copyButtons&&F(a.copyButtons);for(var c=a.edit.getViewport(),d=a.orig.getViewport(),e=a.mv.wrap.getBoundingClientRect().top,f=e-a.edit.getScrollerElement().getBoundingClientRect().top+a.edit.getScrollInfo().top,
e=e-a.orig.getScrollerElement().getBoundingClientRect().top+a.orig.getScrollInfo().top,h=0;h<a.chunks.length;h++){var g=a.chunks[h];if(g.editFrom<=c.to&&g.editTo>=c.from&&g.origFrom<=d.to&&g.origTo>=d.from){var k=a,m=e,l=f,n=b,q="left"==k.type,r=k.orig.heightAtLine(g.origFrom,"local",!0)-m;if(k.svg){var t=r,p=k.edit.heightAtLine(g.editFrom,"local",!0)-l;if(q)var u=t,t=p,p=u;var m=k.orig.heightAtLine(g.origTo,"local",!0)-m,A=k.edit.heightAtLine(g.editTo,"local",!0)-l;q&&(u=m,m=A,A=u);q=" C "+n/2+" "+
p+" "+n/2+" "+t+" "+(n+2)+" "+t;t=" C "+n/2+" "+m+" "+n/2+" "+A+" -1 "+A;Y(k.svg.appendChild(document.createElementNS("http://www.w3.org/2000/svg","path")),"d","M -1 "+p+q+" L "+(n+2)+" "+m+t+" z","class",k.classes.connect)}k.copyButtons&&(n=k.copyButtons.appendChild(y("div","left"==k.type?"\u21dd":"\u21dc","CodeMirror-merge-copy")),p=k.mv.options.allowEditingOriginals,n.title=p?"Push to left":"Revert chunk",n.chunk=g,n.style.top=(g.origTo>g.origFrom?r:k.edit.heightAtLine(g.editFrom,"local")-l)+"px",
p&&(l=k.edit.heightAtLine(g.editFrom,"local")-l,r=k.copyButtons.appendChild(y("div","right"==k.type?"\u21dd":"\u21dc","CodeMirror-merge-copy-reverse")),r.title="Push to right",r.chunk={editFrom:g.origFrom,editTo:g.origTo,origFrom:g.editFrom,origTo:g.editTo},r.style.top=l+"px","right"==k.type?r.style.left="2px":r.style.right="2px"))}}}}function Z(a,b){for(var c=0,d=0,e=0;e<b.length;e++){var f=b[e];if(f.editTo>a&&f.editFrom<=a)return null;if(f.editFrom>a)break;c=f.editTo;d=f.origTo}return d+(a-c)}function O(a,
b,c){for(var d=a.state.trackAlignable,e=a.firstLine(),f=0,h=[],g=0;;g++){for(var k=b[g],m=k?c?k.origFrom:k.editFrom:a.lastLine()+1;f<d.alignable.length;f+=2){var l=d.alignable[f]+1;if(!(l<=e))if(l<m)h.push(l);else break}if(!k)break;h.push(e=c?k.origTo:k.editTo)}return h}function aa(a,b,c,d){for(var e=0,f=0,h=0,g=0;;e++){var k=a[e],m=b[f];if(!k&&null==m)break;for(var l=k?k[0]:1E9,m=null==m?1E9:m;h<c.length;){var n=c[h];if(n.editTo>l)break;g+=n.origTo-n.origFrom-(n.editTo-n.editFrom);h++}l==m-g?(k[d]=
m,f++):l<m-g?k[d]=l+g:(k=[m-g,null,null],k[d]=m,a.splice(e,0,k),f++)}}function ha(a,b){var c=O(a.edit,a.chunks,!1),d=[];if(b)for(var e=0,f=0;e<b.chunks.length;e++){for(var h=b.chunks[e].editTo;f<c.length&&c[f]<h;)f++;f!=c.length&&c[f]==h||c.splice(f++,0,h)}for(e=0;e<c.length;e++)d.push([c[e],null,null]);aa(d,O(a.orig,a.chunks,!0),a.chunks,1);b&&aa(d,O(b.orig,b.chunks,!0),b.chunks,2);return d}function K(a,b){if(a.dealigned||b){if(!a.orig.curOp)return a.orig.operation(function(){K(a,b)});a.dealigned=
!1;var c=a.mv.left==a?a.mv.right:a.mv.left;c&&(n(c),c.dealigned=!1);for(var d=ha(a,c),e=a.mv.aligners,f=0;f<e.length;f++)e[f].clear();e.length=0;var h=[a.edit,a.orig],g=[];c&&h.push(c.orig);for(f=0;f<h.length;f++)g.push(h[f].getScrollInfo().top);for(c=0;c<d.length;c++)ia(h,d[c],e);for(f=0;f<h.length;f++)h[f].scrollTo(null,g[f])}}function ia(a,b,c){for(var d=0,e=[],f=0;f<a.length;f++)if(null!=b[f]){var h=a[f].heightAtLine(b[f],"local");e[f]=h;d=Math.max(d,h)}for(f=0;f<a.length;f++)null!=b[f]&&(h=d-
e[f],1<h&&c.push(ja(a[f],b[f],h)))}function ja(a,b,c){var d=!0;b>a.lastLine()&&(b--,d=!1);var e=document.createElement("div");e.className="CodeMirror-merge-spacer";e.style.height=c+"px";e.style.minWidth="1px";return a.addLineWidget(b,e,{height:c,above:d,mergeSpacer:!0})}function ba(a,b,c,d){if(!a.diffOutOfDate){var e=d.origTo>c.lastLine()?v(d.origFrom-1):v(d.origFrom,0),f=v(d.origTo,0),h=d.editTo>b.lastLine()?v(d.editFrom-1):v(d.editFrom,0);d=v(d.editTo,0);var g=a.mv.options.revertChunk;g?g(a.mv,
c,e,f,b,h,d):b.replaceRange(c.getRange(e,f),h,d)}}function ca(a){var b=a.lockButton=y("div",null,"CodeMirror-merge-scrolllock");b.title="Toggle locked scrolling";var c=y("div",[b],"CodeMirror-merge-scrolllock-wrap");l.on(b,"click",function(){V(a,!a.lockScroll)});b=[c];!1!==a.mv.options.revertButtons&&(a.copyButtons=y("div",null,"CodeMirror-merge-copybuttons-"+a.type),l.on(a.copyButtons,"click",function(b){b=b.target||b.srcElement;b.chunk&&("CodeMirror-merge-copy-reverse"==b.className?ba(a,a.orig,
a.edit,b.chunk):ba(a,a.edit,a.orig,b.chunk))}),b.unshift(a.copyButtons));"align"!=a.mv.options.connect&&((c=document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg"))&&!c.createSVGRect&&(c=null),(a.svg=c)&&b.push(c));return a.gap=y("div",b,"CodeMirror-merge-gap")}function da(a){return"string"==typeof a?a:a.getValue()}function R(a,b){a=ka.diff_main(a,b);for(b=0;b<a.length;++b){var c=a[b];c[1]?b&&a[b-1][0]==c[0]&&(a.splice(b--,1),a[b][1]+=c[1]):a.splice(b--,1)}return a}
function S(a){for(var b=[],c=0,d=0,e=v(0,0),f=v(0,0),h=0;h<a.length;++h){var g=a[h],k=g[0];if(k==DIFF_EQUAL){var l=W(a,h)?0:1,k=e.line+l,l=f.line+l;G(e,g[1],null,f);var n=X(a,h)?1:0,g=e.line+n,n=f.line+n;g>k&&(h&&b.push({origFrom:d,origTo:l,editFrom:c,editTo:k}),c=g,d=n)}else G(k==DIFF_INSERT?e:f,g[1])}(c<=e.line||d<=f.line)&&b.push({origFrom:d,origTo:f.line+1,editFrom:c,editTo:e.line+1});return b}function X(a,b){if(b==a.length-1)return!0;var c=a[b+1][1];if(1==c.length&&b<a.length-2||10!=c.charCodeAt(0))return!1;
if(b==a.length-2)return!0;c=a[b+2][1];return(1<c.length||b==a.length-3)&&10==c.charCodeAt(0)}function W(a,b){if(0==b)return!0;var c=a[b-1][1];if(10!=c.charCodeAt(c.length-1))return!1;if(1==b)return!0;c=a[b-2][1];return 10==c.charCodeAt(c.length-1)}function la(a,b,c){function d(){f.clear();a.removeLineClass(b,"wrap","CodeMirror-merge-collapsed-line")}a.addLineClass(b,"wrap","CodeMirror-merge-collapsed-line");var e=document.createElement("span");e.className="CodeMirror-merge-collapsed-widget";e.title=
"Identical text collapsed. Click to expand.";var f=a.markText(v(b,0),v(c-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:e,clearOnEnter:!0});l.on(e,"click",d);return{mark:f,clear:d}}function ma(a,b){function c(){for(var a=0;a<d.length;a++)d[a].clear()}for(var d=[],e=0;e<b.length;e++){var f=b[e],f=la(f.cm,f.line,f.line+a);d.push(f);f.mark.on("clear",c)}return d[0].mark}function ea(a,b,c,d){for(var e=0;e<a.chunks.length;e++)for(var f=a.chunks[e],h=f.editFrom-b;h<f.editTo+b;h++){var g=h+c;0<=g&&
g<d.length&&(d[g]=!1)}}function y(a,b,c,d){a=document.createElement(a);c&&(a.className=c);d&&(a.style.cssText=d);if("string"==typeof b)a.appendChild(document.createTextNode(b));else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function F(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild)}function Y(a){for(var b=1;b<arguments.length;b+=2)a.setAttribute(arguments[b],arguments[b+1])}function P(a,b){b||(b={});for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function G(a,
b,c,d){a=c?v(a.line,a.ch):a;for(c=0;;){var e=b.indexOf("\n",c);if(-1==e)break;++a.line;d&&++d.line;c=e+1}a.ch=(c?0:a.ch)+(b.length-c);d&&(d.ch=(c?0:d.ch)+(b.length-c));return a}function Q(a){this.cm=a;this.alignable=[];var b=this;a.on("markerAdded",function(a,d){d.collapsed&&(a=d.find(1),null!=a&&b.set(a.line,H))});a.on("markerCleared",function(a,d,e,f){null!=f&&d.collapsed&&b.check(f,H,b.hasMarker)});a.on("markerChanged",this.signal.bind(this));a.on("lineWidgetAdded",function(a,d,e){d.mergeSpacer||
(d.above?b.set(e-1,B):b.set(e,fa))});a.on("lineWidgetCleared",function(a,d,e){d.mergeSpacer||(d.above?b.check(e-1,B,b.hasWidgetBelow):b.check(e,fa,b.hasWidget))});a.on("lineWidgetChanged",this.signal.bind(this));a.on("change",function(a,d){a=d.from.line;var c=d.to.line-d.from.line,f=d.text.length-1,h=a+f;(c||f)&&b.map(a,c,f);b.check(h,H,b.hasMarker);(c||f)&&b.check(d.from.line,H,b.hasMarker)})}function ga(a,b){var c=null,d=a.state.diffViews,e=a.getCursor().line;if(d)for(var f=0;f<d.length;f++){var h=
d[f],g=a==h.orig;n(h);if(0>b)a:{for(var h=h.chunks,k=h.length-1;0<=k;k--){var m=h[k],m=(g?m.origTo:m.editTo)-1;if(m<e){g=m;break a}}g=void 0}else a:{h=h.chunks;for(k=0;k<h.length;k++)if(m=h[k],m=g?m.origFrom:m.editFrom,m>e){g=m;break a}g=void 0}null!=g&&(null==c||(0>b?g>c:g<c))&&(c=g)}if(null!=c)a.setCursor(c,0);else return l.Pass}var v=l.Pos;q.prototype={constructor:q,init:function(a,b,c){this.edit=this.mv.edit;(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this);this.orig=l(a,
P({value:b,readOnly:!this.mv.options.allowEditingOriginals},P(c)));"align"==this.mv.options.connect&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new Q(this.edit)),this.orig.state.trackAlignable=new Q(this.orig));this.orig.state.diffViews=[this];a=c.chunkClassLocation||"background";"[object Array]"!=Object.prototype.toString.call(a)&&(a=[a]);this.classes.classLocation=a;this.diff=R(da(b),da(c.value));this.chunks=S(this.diff);this.diffOutOfDate=this.dealigned=!1;this.needsScrollSync=
null;this.showDifferences=!1!==c.showDifferences},registerEvents:function(){this.forceUpdate=w(this);V(this,!0,!1);x(this)},setShowDifferences:function(a){a=!1!==a;a!=this.showDifferences&&(this.showDifferences=a,this.forceUpdate("full"))}};var E=!1,I=l.MergeView=function(a,b){if(!(this instanceof I))return new I(a,b);this.options=b;var c=b.origLeft,d=null==b.origRight?b.orig:b.origRight,e=null!=c,f=null!=d,h=1+(e?1:0)+(f?1:0),g=[],k=this.left=null,m=this.right=null,n=this;if(e){var k=this.left=new q(this,
"left"),v=y("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");g.push(v);g.push(ca(k))}e=y("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");g.push(e);if(f){m=this.right=new q(this,"right");g.push(ca(m));var w=y("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");g.push(w)}(f?w:e).className+=" CodeMirror-merge-pane-rightmost";g.push(y("div",null,null,"height: 0; clear: both;"));var r=this.wrap=a.appendChild(y("div",g,"CodeMirror-merge CodeMirror-merge-"+h+"pane"));this.edit=
l(e,P(b));k&&k.init(v,c,b);m&&m.init(w,d,b);b.collapseIdentical&&this.editor().operation(function(){var a=b.collapseIdentical;"number"!=typeof a&&(a=2);for(var c=[],d=n.editor(),f=d.firstLine(),e=f,g=d.lastLine();e<=g;e++)c.push(!0);n.left&&ea(n.left,a,f,c);n.right&&ea(n.right,a,f,c);for(e=0;e<c.length;e++)if(c[e]){for(var g=e+f,h=1;e<c.length-1&&c[e+1];e++,h++);if(h>a){var k=[{line:g,cm:d}];n.left&&k.push({line:Z(g,n.left.chunks),cm:n.left.orig});n.right&&k.push({line:Z(g,n.right.chunks),cm:n.right.orig});
k=ma(h,k);if(n.options.onCollapse)n.options.onCollapse(n,g,h,k)}}});"align"==b.connect&&(this.aligners=[],K(this.left||this.right,!0));k&&k.registerEvents();m&&m.registerEvents();var t=function(){k&&C(k);m&&C(m)};l.on(window,"resize",t);var p=setInterval(function(){for(var a=r.parentNode;a&&a!=document.body;a=a.parentNode);a||(clearInterval(p),l.off(window,"resize",t))},5E3)};I.prototype={constructor:I,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},
leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(a){this.right&&this.right.setShowDifferences(a);this.left&&this.left.setShowDifferences(a)},rightChunks:function(){if(this.right)return n(this.right),this.right.chunks},leftChunks:function(){if(this.left)return n(this.left),this.left.chunks}};var ka=new diff_match_patch,fa=1,B=2,H=4;Q.prototype={signal:function(){l.signal(this,"realign")},set:function(a,b){for(var c=-1;c<this.alignable.length;c+=2){var d=this.alignable[c]-
a;if(0==d){if((this.alignable[c+1]&b)==b)return;this.alignable[c+1]|=b;this.signal();return}if(0<d)break}this.signal();this.alignable.splice(c,0,a,b)},find:function(a){for(var b=0;b<this.alignable.length;b+=2)if(this.alignable[b]==a)return b;return-1},check:function(a,b,c){var d=this.find(a);-1!=d&&this.alignable[d+1]&b&&!c.call(this,a)&&(this.signal(),(a=this.alignable[d+1]&~b)?this.alignable[d+1]=a:this.alignable.splice(d,2))},hasMarker:function(a){a=this.cm.getLineHandle(a);if(a.markedSpans)for(var b=
0;b<a.markedSpans.length;b++)if(a.markedSpans[b].mark.collapsed&&null!=a.markedSpans[b].to)return!0;return!1},hasWidget:function(a){a=this.cm.getLineHandle(a);if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(!a.widgets[b].above&&!a.widgets[b].mergeSpacer)return!0;return!1},hasWidgetBelow:function(a){if(a==this.cm.lastLine())return!1;a=this.cm.getLineHandle(a+1);if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].above&&!a.widgets[b].mergeSpacer)return!0;return!1},map:function(a,b,c){for(var d=
c-b,e=a+b,f=b=-1,h=0;h<this.alignable.length;h+=2){var g=this.alignable[h];g==a&&this.alignable[h+1]&B&&(b=h);g==e&&this.alignable[h+1]&B&&(f=h);g<=a||(g<e?this.alignable.splice(h--,2):this.alignable[h]+=d)}-1<b&&(d=this.alignable[b+1],d==B?this.alignable.splice(b,2):this.alignable[b+1]=d&~B);-1<f&&c&&this.set(a+c,B)}};l.commands.goNextDiff=function(a){return ga(a,1)};l.commands.goPrevDiff=function(a){return ga(a,-1)}});
